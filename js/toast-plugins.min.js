(function($){$.fn.tstSocial=function(options){var settings=$.extend({},options);return this.each(function(){var n=settings.network;var t=settings.title;var d=settings.description;var i=settings.image;var u=settings.url;if(n==="facebook"){window.fbAsyncInit=function(){FB.init({appId:"900983226618429",xfbml:true,version:"v2.2"})};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs)})(document,"script","facebook-jssdk");$(this).attr({href:"https://www.facebook.com/v2.2/dialog/feed?app_id=900983226618429&caption="+encodeURIComponent("www.toa.st - Simple, modern clothes and homeware for women and men.")+"&description="+d+"&display=popup&e2e=%7B%7D&link="+encodeURIComponent(u)+"&locale=en_US&name="+t+"&picture="+i+"&sdk=joey&source="+i+"&version=v2.2",target:"_blank"});$(this).click(function(e){e.preventDefault();FB.ui({method:"feed",link:u,description:decodeURIComponent(d),picture:i,source:i,name:t,caption:"www.toa.st - Simple, modern clothes and homeware for women and men. "},function(response){})})}else if(n==="pinterest"){$(this).attr({href:"https://www.pinterest.com/pin/create/link/?url="+u+"&media="+i+"&description="+d,target:"_blank"});$(this).click(function(e){e.preventDefault();window.open("https://www.pinterest.com/pin/create/link/?url="+u+"&media="+i+"&description="+d,"_blank","width=800, height=500")})}else if(n==="twitter"){window.twttr=function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f)};return t}(document,"script","twitter-wjs");$(this).attr({href:"https://twitter.com/intent/tweet?text="+t+"%20by%20TOAST&url="+encodeURIComponent(u),target:"_blank"})}})};$.fn.tstPlaceholder=function(options){var settings=$.extend({classSelector:"tst-placeholder",attr:"tst-placeholder"},options);return this.each(function(){var c=settings.classSelector;var d=settings.attr;var i=$(this);var p=i.attr(d);var pw=false;i.focus(function(){if(i.val()===p){if(pw){i.attr("type","password")}i.val("").removeClass(c)}}).focusout(function(){if(i.val()===""){i.val(p).addClass(c);if(i.attr("type")==="password"){i.attr("type","text");pw=true}}}).trigger("focusout")})};$.fn.tstToTop=function(options){var settings=$.extend({element:$("html"),includeHeader:false},options);return this.click(function(){var e=settings.element;var i=settings.includeHeader;var h=i?$("#mainHeader").height():0;$("html, body").animate({scrollTop:e.offset().top-h})})};$.fn.tstTip=function(options){var settings=$.extend({dataAttr:"tsttip"},options);if(this.length>0){$("body").append("<div id='tstTip'><div class='arrow-up'/><span id='tstTipText'/></div>")}return this.each(function(){var d=settings.dataAttr;$(this).mouseover(function(){var e=$(this);$("#tstTip").css({top:e.offset().top+$(this).outerHeight()+10,maxWidth:e.outerWidth()/2}).show().find("#tstTipText").html(e.data(d));setTimeout(function(){$("#tstTip").css({left:e.offset().left+e.outerWidth()/2-$("#tstTip").outerWidth()/2}).addClass("tstTipShow")},1)}).mouseout(function(){$("#tstTip").hide().removeClass("tstTipShow")})})};$.fn.tstAccordion=function(options){var settings=$.extend({unique:true,speed:300},options);return this.each(function(i){var c="tstAccordion-"+i;$(this).addClass(c).find("> .tstAccordion-bellow, > .tstAccordion-bellow > .tstAccordion-header, > .tstAccordion-bellow > .tstAccordion-content").addClass(c);$(this).find(".tstAccordion-bellow."+c).css("height",$(this).find(".tstAccordion-header."+c).outerHeight());$(this).find(".tstAccordion-header."+c).prepend("<div class='sprite small-down-arrow "+c+"' style='margin-top: "+$(this).find(".tstAccordion-header."+c).outerHeight()/2+"px'></div><div class='sprite small-up-arrow "+c+"' style='margin-top: "+$(this).find(".tstAccordion-header."+c).outerHeight()/2+"px'></div>");var u=settings.unique;var o=$($(".tstAccordion-bellow.open."+c)[0]);var s=settings.speed;$(".tstAccordion-bellow.open."+c).removeClass("open");o.css({height:"auto"}).addClass("open");$(this).find(".tstAccordion-header."+c).click(function(){var b=$(this).parents(".tstAccordion-bellow."+c);$(".tstAccordion-bellow.wasOpen."+c).removeClass("wasOpen");var r=u===true?$(".tstAccordion-bellow.open."+c):b;if(r.hasClass("open")){r.removeClass("open").animate({height:$(this).outerHeight()}).addClass("wasOpen")}if(!b.hasClass("wasOpen")){b.animate({height:b.find(".tstAccordion-content."+c).outerHeight()+b.find(".tstAccordion-header."+c).outerHeight()+10},s,function(){$(this).css({height:"auto"})}).addClass("open")}})})};$.fn.tstSlider=function(options){var settings=$.extend({images:[],infinite:true,perPage:1,perSlide:1},options);return this.each(function(){var $a=settings.images;if($a.length>0){var e=$(this);var i;var l=true;var ac="tstSlideActive";var dc="tstSlideDummy";var o=false;var inf=settings.infinite;var p=settings.perPage;var ps=settings.pageSlide===true?settings.perPage:1;var pe=false;e.append("<div class='tstSliderOuter'><div class='tstSliderInner'/><div class='tstSliderLeft'><div class='sprite chevron-left'/></div><div class='tstSliderRight'><div class='sprite chevron-right'/></div></div>");var si=e.find(".tstSliderInner");for(var i=0;i<$a.length;i++){if(typeof $a[i]==="string"){si.append("<img src='"+$a[i]+"' class='tstSlide' />")}else{si.append($a[i]);$($a[i]).addClass("tstSlide");o=true}}if(o===true){for(var j=0;j<p;j++){var nf=$($a[$a.length-1-j]).clone();var nl=$($a[0+j]).clone();si.prepend(nf.addClass(dc));si.append(nl.addClass(dc))}}else{for(var j=0;j<p;j++){si.prepend("<img src='"+$a[$a.length-1-j]+"' class='tstSlide "+dc+"' />");si.append("<img src='"+$a[0+j]+"' class='tstSlide "+dc+"' />")}}if(inf===false){e.find("."+dc).css("visibility","hidden")}si.find(".tstSlide").css({width:100/p+"%"});var s=e.find(".tstSlide");var sc=s.length-e.find("."+dc).length;var t=Math.ceil(sc/ps);i=1;si.css({marginLeft:"-"+parseFloat(i*100)+"%"});if(t>1){e.find(".tstSliderRight").click(function(){u("right")});e.find(".tstSliderLeft").click(function(){u("left")})}else{e.find(".tstSliderRight, .tstSliderLeft").hide()}function u(d){if(l===false){}else{l=false;var f=false;if(typeof d!=="undefined"){var di;if(d=="left"){i--;di=t}else if(d=="right"){i++;di=1}}c=e.find("."+ac);var ts=(i-1)*100/(p/ps)+100;if(i===t+1||i===0){f=true;i=inf===false?di:i;if(inf){ts=i!==0?(i-1)*100/(p/ps)+100-t*ps%sc*100/ps:100-100/p}else{ts=i!==0?(i-1)*100/(p/ps)+100:100}}si.animate({marginLeft:"-"+parseFloat(ts)+"%"},function(){if(f===true&&inf===true){i=di;si.css({marginLeft:"-"+parseFloat((i-1)*100/(p/ps)+100)+"%"})}l=true;pe=false})}}}else{console.log("tstSlider: No images selected")}})};$.fn.tstValidate=function(options){var settings=$.extend({invalidClass:"invalid",alertClass:"invalidAlert"},options);ic=settings.invalidClass;ac=settings.alertClass;var validateEmail=function(email){return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(email)||email.length<1};var validateField=function(field){if(field.hasClass("required")&&field.val()===""||field.attr("type")==="email"&&validateEmail(field.val())===false){field.addClass(ic).next("."+ac).removeClass("hidden");return false}else{field.removeClass(ic).next("."+ac).addClass("hidden")}};var results=[];this.each(function(){var i=0;$(this).find("select, input").each(function(){if(validateField($(this))===false){i++;if($(this).is("select")){$(this).change(function(){validateField($(this));$(this).unbind("change")})}else{$(this).focusout(function(){validateField($(this))})}}});results=i>0?false:true});return results}})(jQuery);